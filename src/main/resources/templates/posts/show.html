<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<!-- BootStrap -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<title>投稿詳細</title>
	</head>
	<body>
		<header>
			<nav>
				<a th:href="@{/}">投稿アプリ</a>
				<ul>
					<li>
						<a th:href="@{/logout}" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
							ログアウト
						</a>
						<form id="logout-form" th:action="@{/logout}" method="post"></form>
					</li>
				</ul>
			</nav>
		</header>
		<main>
			<h1>投稿詳細</h1>
			<a th:href="@{/posts}">&lt; 戻る</a>
			<article>
				<h2 th:text="${post.title}"></h2>
				<p th:text="${post.content}"></p>
				<div th:if="${#authentication.principal.user.id == post.user.id}">
					<a th:href="@{/posts/__${post.id}__/edit}">編集</a>
				</div>
				<form th:action="@{/posts/__${post.id}__/delete}" method="post" onsubmit="return confirm('本当に削除しますか？');">
					<button type="submit">削除</button>
				</form>
			</article>
		</main>
		<footer>
			<p>&copy; 投稿アプリ All rights reserved.</p>
		</footer>
		<!-- Bootstrap -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
	</body>
</html>